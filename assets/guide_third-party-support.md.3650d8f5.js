import{_ as s,o as a,c as n,Q as l}from"./chunks/framework.80ded364.js";const u=JSON.parse('{"title":"第三方支持","description":"","frontmatter":{},"headers":[],"relativePath":"guide/third-party-support.md","filePath":"guide/third-party-support.md","lastUpdated":1724206688000}'),p={name:"guide/third-party-support.md"},o=l(`<h1 id="第三方支持" tabindex="-1">第三方支持 <a class="header-anchor" href="#第三方支持" aria-label="Permalink to &quot;第三方支持&quot;">​</a></h1><p>所有配置默认在 <code>_config.async.yml</code> 文件下进行。</p><p>与额外依赖库支持的区别，此处主要为使用第三方服务商提供的服务实现。</p><h2 id="分析统计" tabindex="-1">分析统计 <a class="header-anchor" href="#分析统计" aria-label="Permalink to &quot;分析统计&quot;">​</a></h2><p>默认内置了 百度、谷歌、腾讯三种。</p><ul><li><code>enable</code>: 是否开启</li><li><code>baidu</code>: 百度统计的Key</li><li><code>google</code>: Google统计的Tracking ID</li><li><code>tencent</code>: 腾讯统计的H5 App id <ul><li><code>sid</code>:</li><li><code>cid</code>:</li></ul></li></ul><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#85E89D;">web_analytics</span><span style="color:#E1E4E8;">:  </span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#85E89D;">enable</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">false</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#85E89D;">baidu</span><span style="color:#E1E4E8;">:   </span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#85E89D;">google</span><span style="color:#E1E4E8;">:  </span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#85E89D;">tencent</span><span style="color:#E1E4E8;">: </span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">sid</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">cid</span><span style="color:#E1E4E8;">:</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#22863A;">web_analytics</span><span style="color:#24292E;">:  </span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#22863A;">enable</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">false</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#22863A;">baidu</span><span style="color:#24292E;">:   </span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#22863A;">google</span><span style="color:#24292E;">:  </span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#22863A;">tencent</span><span style="color:#24292E;">: </span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">sid</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">cid</span><span style="color:#24292E;">:</span></span></code></pre></div><p>以百度统计为例：</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#85E89D;">web_analytics</span><span style="color:#E1E4E8;">:  </span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#85E89D;">enable</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">true</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#85E89D;">baidu</span><span style="color:#E1E4E8;">:  </span><span style="color:#9ECBFF;">百度统计Key</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#22863A;">web_analytics</span><span style="color:#24292E;">:  </span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#22863A;">enable</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">true</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#22863A;">baidu</span><span style="color:#24292E;">:  </span><span style="color:#032F62;">百度统计Key</span></span></code></pre></div><h2 id="评论" tabindex="-1">评论 <a class="header-anchor" href="#评论" aria-label="Permalink to &quot;评论&quot;">​</a></h2><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p><s>因为主题滚动插件原因，需要监听评论区域 DOM 变动，用来更新插件滚动监听信息，所以导致对兼容三方插件变得比较繁琐</s> (在 v1.1.3 进行修复)。本人使用评论插件有限，所以做了兼容处理比较少。</p></div><h3 id="bcomments" tabindex="-1">bComments <a class="header-anchor" href="#bcomments" aria-label="Permalink to &quot;bComments&quot;">​</a></h3><p>b-comments 是什么 <a href="https://github.com/MaLuns/bcommentjs" target="_blank" rel="noreferrer">参考这里</a></p><ul><li><code>enable</code>: 默认关闭</li><li><code>env</code>:腾讯云环境ID</li></ul><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#85E89D;">comment</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#85E89D;">bComments</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">enable</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">true</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">env</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">腾讯云环境ID</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#22863A;">comment</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#22863A;">bComments</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">enable</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">true</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">env</span><span style="color:#24292E;">: </span><span style="color:#032F62;">腾讯云环境ID</span></span></code></pre></div><h3 id="twikoo" tabindex="-1">Twikoo <a class="header-anchor" href="#twikoo" aria-label="Permalink to &quot;Twikoo&quot;">​</a></h3><p>一个简洁、安全、免费的静态网站评论系统，基于<a href="https://curl.qcloud.com/KnnJtUom" target="_blank" rel="noreferrer">腾讯云开发</a>。</p><blockquote><p>后端部署请参见<a href="https://twikoo.js.org/" target="_blank" rel="noreferrer">官方文档</a>。 <a href="https://twikoo.js.org/quick-start.html" target="_blank" rel="noreferrer">快速上手</a></p></blockquote><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#85E89D;">comment</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#85E89D;">twikoo</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">enable</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">true</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">envId</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">xxxxxxxxxxxxxxx</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;"># 腾讯云环境id</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">region</span><span style="color:#E1E4E8;">: </span><span style="color:#6A737D;"># 环境地域，默认为 ap-shanghai，如果您的环境地域不是上海，需传此参数</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">option</span><span style="color:#E1E4E8;">: </span><span style="color:#6A737D;"># 用于区分不同文章的自定义 js 路径，如果您的文章路径不是 location.pathname，需传此参数</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#22863A;">comment</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#22863A;">twikoo</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">enable</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">true</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">envId</span><span style="color:#24292E;">: </span><span style="color:#032F62;">xxxxxxxxxxxxxxx</span><span style="color:#24292E;"> </span><span style="color:#6A737D;"># 腾讯云环境id</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">region</span><span style="color:#24292E;">: </span><span style="color:#6A737D;"># 环境地域，默认为 ap-shanghai，如果您的环境地域不是上海，需传此参数</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">option</span><span style="color:#24292E;">: </span><span style="color:#6A737D;"># 用于区分不同文章的自定义 js 路径，如果您的文章路径不是 location.pathname，需传此参数</span></span></code></pre></div><h3 id="giscus" tabindex="-1">Giscus <a class="header-anchor" href="#giscus" aria-label="Permalink to &quot;Giscus&quot;">​</a></h3><p><a href="https://github.com/laymonage/giscus" target="_blank" rel="noreferrer">Giscus</a> 是由 GitHub Discussions 提供支持的评论系统。 让访问者通过 GitHub 在您的网站上留下评论和反应！ 受到 <a href="https://utteranc.es/" target="_blank" rel="noreferrer">utterances</a> 的极大启发。</p><blockquote><p>Giscus （基于 Discussions）相比 utterances（基于 Issue）权限更加细分，且可指定回复。更像一个评论系统。</p></blockquote><p>配置信息字段对应参考 <a href="https://giscus.app/zh-CN" target="_blank" rel="noreferrer">Giscus Docs</a></p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#85E89D;">comment</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#85E89D;">giscus</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">enable</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">false</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">repo</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">repo-id</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">category</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">category-id</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">mapping</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">pathname</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">reactions-enabled</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">emit-metadata</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">0</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">lang</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">zh-CN</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#85E89D;">theme</span><span style="color:#E1E4E8;">: </span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">light</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">light</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#85E89D;">dark</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">dark</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#22863A;">comment</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#22863A;">giscus</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">enable</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">false</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">repo</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">repo-id</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">category</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">category-id</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">mapping</span><span style="color:#24292E;">: </span><span style="color:#032F62;">pathname</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">reactions-enabled</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">emit-metadata</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">lang</span><span style="color:#24292E;">: </span><span style="color:#032F62;">zh-CN</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">theme</span><span style="color:#24292E;">: </span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">light</span><span style="color:#24292E;">: </span><span style="color:#032F62;">light</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">dark</span><span style="color:#24292E;">: </span><span style="color:#032F62;">dark</span></span></code></pre></div><h3 id="使用自定义模板添加评论插件" tabindex="-1">使用自定义模板添加评论插件 <a class="header-anchor" href="#使用自定义模板添加评论插件" aria-label="Permalink to &quot;使用自定义模板添加评论插件&quot;">​</a></h3><p>在不修改源码情况下，您也可以通过自定义模板来。关于自定义模板可以参考 <a href="/guide/config.html#自定义模板-layout">这里</a>。</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>在自定义模板情况下，您只需要处理评论的初始化相关情况就可以了，比如评论插件位置和哪些页面显示将根据配置保持一致行为，主题会处理这部分操作。</p></div><h3 id="集成其他评论插件" tabindex="-1">集成其他评论插件 <a class="header-anchor" href="#集成其他评论插件" aria-label="Permalink to &quot;集成其他评论插件&quot;">​</a></h3><p>若果您想通过修改主题源码方式集成其他评论插件，可以通过如下方式添加。</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>增加三方评论插件，一般来说只需要按照三方插件添加对应 <code>js</code>、<code>css</code> 文件，在 <code>layout/_third-party/comment/</code> 添加对应初始化代码，处理好主题切换样式就可以了。</p></div><p>以 Twikoo 为例：</p><p>第一部分：</p><p>您需要<code>layout/_third-party/comment/twikoo.ejs</code> 文件，在里面编写评论插件使用的 HTML 相关代码。</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">class</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;trm-card trm-scroll-animation comment-container&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">id</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;tcomment&quot;</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">class</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;trm-card trm-scroll-animation comment-container&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">id</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;tcomment&quot;</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><p>第二部分：</p><p>添加配置 twikoo CDN 配置</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#85E89D;">assets</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#85E89D;">plugin</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">     </span><span style="color:#85E89D;">twikoo</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">//cdn.jsdelivr.net/npm/twikoo@1.6.7/dist/twikoo.all.min.js</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#22863A;">assets</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#22863A;">plugin</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">     </span><span style="color:#22863A;">twikoo</span><span style="color:#24292E;">: </span><span style="color:#032F62;">//cdn.jsdelivr.net/npm/twikoo@1.6.7/dist/twikoo.all.min.js</span></span></code></pre></div><p>在 <code>layout/_third-party/plugin.ejs</code> 里，根据配置加载插件。仅在页面开始评论配置加载插件，并在初始化代码块上添加 <code>data-swup-reload-script</code> 标识。</p><p><code>data-swup-reload-script</code> 表示在 Pjax 里会重新执行当前代码块。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">&lt;%</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(page.comments) { </span><span style="color:#F97583;">%&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">&lt;%</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> comment </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> theme.comment</span><span style="color:#F97583;">%&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">&lt;%</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;">(comment.twikoo.enable) { </span><span style="color:#F97583;">%&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">&lt;%-</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">js</span><span style="color:#E1E4E8;">({src:theme.assets.plugin.twikoo,</span><span style="color:#9ECBFF;">&#39;data-swup-reload-script&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">}) </span><span style="color:#F97583;">%&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">data-swup-reload-script</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">          const twikooConfig = &lt;%- JSON.stringify(theme.comment.twikoo) %&gt;;</span></span>
<span class="line"><span style="color:#E1E4E8;">          twikooConfig.el = &#39;#tcomment&#39;;</span></span>
<span class="line"><span style="color:#E1E4E8;">          twikoo.init(twikooConfig);</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;/</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">&lt;%</span><span style="color:#E1E4E8;"> } </span><span style="color:#F97583;">%&gt;</span></span>
<span class="line"><span style="color:#F97583;">&lt;%</span><span style="color:#E1E4E8;"> } </span><span style="color:#F97583;">%&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">&lt;%</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(page.comments) { </span><span style="color:#D73A49;">%&gt;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">&lt;%</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> comment </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> theme.comment</span><span style="color:#D73A49;">%&gt;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">&lt;%</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(comment.twikoo.enable) { </span><span style="color:#D73A49;">%&gt;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">&lt;%-</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">js</span><span style="color:#24292E;">({src:theme.assets.plugin.twikoo,</span><span style="color:#032F62;">&#39;data-swup-reload-script&#39;</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">}) </span><span style="color:#D73A49;">%&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">script</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">data-swup-reload-script</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">          const twikooConfig = &lt;%- JSON.stringify(theme.comment.twikoo) %&gt;;</span></span>
<span class="line"><span style="color:#24292E;">          twikooConfig.el = &#39;#tcomment&#39;;</span></span>
<span class="line"><span style="color:#24292E;">          twikoo.init(twikooConfig);</span></span>
<span class="line"><span style="color:#24292E;">      &lt;/</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">&lt;%</span><span style="color:#24292E;"> } </span><span style="color:#D73A49;">%&gt;</span></span>
<span class="line"><span style="color:#D73A49;">&lt;%</span><span style="color:#24292E;"> } </span><span style="color:#D73A49;">%&gt;</span></span></code></pre></div><p><code>layout/comment.ejs</code> 文件为留言页面模板，一般不需要额外修改。</p><p>如果您集成了三方评论插件，欢迎您提交 <a href="https://github.com/MaLuns/hexo-theme-async/pulls" target="_blank" rel="noreferrer">Pull Request</a> ，完善主题健壮性。</p><h2 id="搜索" tabindex="-1">搜索 <a class="header-anchor" href="#搜索" aria-label="Permalink to &quot;搜索&quot;">​</a></h2><h3 id="引擎搜索" tabindex="-1">引擎搜索 <a class="header-anchor" href="#引擎搜索" aria-label="Permalink to &quot;引擎搜索&quot;">​</a></h3><p>跳转搜索引擎搜索您的网站内容</p><p>可通过 <code>site:www.imalun.com 想要搜索的内容</code> 进行搜索</p><p>🌰：<a href="https://www.google.com/search?q=site:www.imalun.com%20%E7%99%BD%E4%BA%91%E8%8B%8D%E7%8B%97" target="_blank" rel="noreferrer">https://www.google.com/search?q=site:www.imalun.com 白云苍狗</a></p><p>针对搜索引擎配置：</p><ul><li><code>href</code>：搜索引擎地址。</li><li><code>domain</code>：您的域名地址。</li></ul><p>设置 <code>type</code> 为 <code>engine</code>。</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark has-highlighted-lines vp-code-dark"><code><span class="line"><span style="color:#85E89D;">search</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#85E89D;">enable</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">true</span></span>
<span class="line highlighted"><span style="color:#E1E4E8;">  </span><span style="color:#85E89D;">type</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">engine</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#85E89D;">href</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;https://www.google.com/search?q=site:&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;"># href: &quot;https://www.baidu.com/s?wd=site:&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;"># href: &quot;https://www.bing.com/search?q=site:&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#85E89D;">domain</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">www.imalun.com</span></span></code></pre><pre class="shiki github-light has-highlighted-lines vp-code-light"><code><span class="line"><span style="color:#22863A;">search</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#22863A;">enable</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">true</span></span>
<span class="line highlighted"><span style="color:#24292E;">  </span><span style="color:#22863A;">type</span><span style="color:#24292E;">: </span><span style="color:#032F62;">engine</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#22863A;">href</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;https://www.google.com/search?q=site:&#39;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;"># href: &quot;https://www.baidu.com/s?wd=site:&quot;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;"># href: &quot;https://www.bing.com/search?q=site:&quot;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#22863A;">domain</span><span style="color:#24292E;">: </span><span style="color:#032F62;">www.imalun.com</span></span></code></pre></div><h3 id="本地搜索" tabindex="-1">本地搜索 <a class="header-anchor" href="#本地搜索" aria-label="Permalink to &quot;本地搜索&quot;">​</a></h3><p>您需要先安装 <a href="https://github.com/next-theme/hexo-generator-searchdb" target="_blank" rel="noreferrer">hexo-generator-searchdb</a>，并参考配置文档。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">hexo-generator-searchdb</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#032F62;">hexo-generator-searchdb</span></span></code></pre></div><p>针对本地搜索配置：</p><ul><li><code>preload</code>：是否预加载搜索。</li><li><code>trigger</code>：默认回车或点击时触发搜索，设置为 <code>auto</code> 时 <code>input</code> 触发搜索。</li></ul><p>只需要修改 <code>type</code> 为 <code>local</code>。</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark has-highlighted-lines vp-code-dark"><code><span class="line"><span style="color:#85E89D;">search</span><span style="color:#E1E4E8;">:</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#85E89D;">enable</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">true</span></span>
<span class="line highlighted"><span style="color:#E1E4E8;">  </span><span style="color:#85E89D;">type</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">local</span></span></code></pre><pre class="shiki github-light has-highlighted-lines vp-code-light"><code><span class="line"><span style="color:#22863A;">search</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#22863A;">enable</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">true</span></span>
<span class="line highlighted"><span style="color:#24292E;">  </span><span style="color:#22863A;">type</span><span style="color:#24292E;">: </span><span style="color:#032F62;">local</span></span></code></pre></div><h2 id="seo" tabindex="-1">SEO <a class="header-anchor" href="#seo" aria-label="Permalink to &quot;SEO&quot;">​</a></h2><h3 id="百度自动推送" tabindex="-1">百度自动推送 <a class="header-anchor" href="#百度自动推送" aria-label="Permalink to &quot;百度自动推送&quot;">​</a></h3><p>自动推送# 将其设置为 true，以开启百度自动推送。</p><blockquote><p>即每次页面被访问时，将自动向百度提交该页面链接。（有利于百度的 SEO）</p></blockquote><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#85E89D;">baidu_push</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">true</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#22863A;">baidu_push</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">true</span></span></code></pre></div>`,63),e=[o];function t(c,r,i,E,y,d){return a(),n("div",null,e)}const g=s(p,[["render",t]]);export{u as __pageData,g as default};
